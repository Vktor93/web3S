define("modules/clean/user_education/react/user_education_banner",["require","exports","tslib","external/underscore","external/react","external/classnames","modules/clean/user_education/user_education_interface","modules/clean/user_education/user_education_client","modules/clean/user_education/react/user_education_spotlight","modules/clean/user_education/react/user_education_pulsar","modules/clean/user_education/react/user_education_tooltip","modules/clean/react/image","modules/clean/react/modal","modules/clean/static_urls","modules/core/i18n"],function(e,t,n,i,o,a,r,s,l,c,u,d,p,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=o.addons.CSSTransitionGroup,E=(function(e){function t(t){var n=e.call(this,t)||this;return n.state={banner:{hide:t.hideOnload}},n.handleUpdate=n.handleUpdate.bind(n),n.handleRequestedEffectState=n.handleRequestedEffectState.bind(n),n.handleNextClick=n.handleNextClick.bind(n),n.handleExitClick=n.handleExitClick.bind(n),n.handleSkipClick=n.handleSkipClick.bind(n),n.handleOverlayClick=n.handleOverlayClick.bind(n),n.handleExitOnboarding=n.handleExitOnboarding.bind(n),n}return n.__extends(t,e),t.prototype.componentWillMount=function(){s.eventEmitter.on(r.UserEducationStateChannel,this.handleUpdate,this),s.eventEmitter.on(r.UserEducationEffectChannel,this.handleRequestedEffectState,this)},t.prototype.componentWillUnmount=function(){s.eventEmitter.removeListener(r.UserEducationStateChannel,this.handleUpdate,this),s.eventEmitter.removeListener(r.UserEducationEffectChannel,this.handleRequestedEffectState,this)},t.prototype.handleRequestedEffectState=function(e){this._canRequestEffect(e)&&!this._isEffectEqual(this.state.requestedEffect,e)&&this.setState({requestedEffect:e,banner:this.state.banner})},t.prototype._isEffectEqual=function(e,t){return i.isEqual(e,t)&&this._isRectEqual(e.rect,t.rect)},t.prototype._isRectEqual=function(e,t){return e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right&&e.width===t.width&&e.height===t.height},t.prototype._canRequestEffect=function(e){return this.state.effect&&e.requester===this.state.effect.containerName+"."+this.state.effect.elementName},t.prototype.handleUpdate=function(e){if(e.state===r.UEEventType.ShowStep){var t=e.step;if(t.banner)return void this.setState({banner:t.banner,effect:t.effect,stepName:t.name})}this.setState({banner:{hide:!0,showNext:!1,canSkip:!1,isLastStep:this.state.banner.isLastStep,title:"",subtitle:""},effect:void 0})},t.prototype.handleNextClick=function(e){void 0===e&&(e={}),s.UEClient.sendEvent(t.displayName,"nextClicked",e)},t.prototype.handleExitClick=function(){this.props.handleExitClick?this.props.handleExitClick():this.showEndTourModal({source:"exit-link"})},t.prototype.handleSkipClick=function(){this.showEndTourModal({source:"skip-link"})},t.prototype.handleOverlayClick=function(){this.state.effect&&this.state.effect.effect===r.UEEffectType.ToolTip?this.handleExitOnboarding():this.props.useHappyZone?this.handleNextClick():this.showEndTourModal()},t.prototype.handleExitOnboarding=function(e){void 0===e&&(e={}),s.UEClient.sendEvent(t.displayName,"exitOnboarding",e)},t.prototype.showEndTourModal=function(e){var t=this;void 0===e&&(e={});var n,i=function(){return t.handleExitOnboarding(e)};n=this.props.useHappyZone?f._("To keep learning about your new Dropbox account, click <b>Cancel</b>."):f._("To keep learning about your new Dropbox account, click ‘cancel’."),p.SimpleModal.show({title_text:f._("End the tour?"),body_html:n,cancel_text:f._("Cancel"),confirm_text:f._("End tour"),confirm_callback:i})},t.prototype.shouldHaveWrappedOverlay=function(){return this.state.requestedEffect&&this._canRequestEffect(this.state.requestedEffect)&&this.state.effect&&this.state.effect.effect===r.UEEffectType.Pulsar},t.prototype.renderOverlay=function(){if(!this.state.banner.hide||this.state.effect&&this.state.effect.effect===r.UEEffectType.ToolTip){if(this.shouldHaveWrappedOverlay()){var e=this.state.requestedEffect.rect,t={top:0,left:0,width:e.left,bottom:0},n={top:0,left:e.left,width:e.width,height:e.top},i={top:0,right:0,left:e.left+e.width,bottom:0},a={top:e.top+e.height,left:e.left,width:e.width,bottom:0};return o.createElement("div",{className:"ue-overlay-container"},o.createElement("div",{className:"ue-partial-overlay",style:t,onClick:this.handleOverlayClick}),o.createElement("div",{className:"ue-partial-overlay",style:n,onClick:this.handleOverlayClick}),o.createElement("div",{className:"ue-partial-overlay",style:i,onClick:this.handleOverlayClick}),o.createElement("div",{className:"ue-partial-overlay",style:a,onClick:this.handleOverlayClick}))}return o.createElement("div",{className:"ue-full-overlay",onClick:this.handleOverlayClick})}return null},t.prototype.renderExit=function(){var e=this.state.banner.showExit||this.state.banner.canSkip,t=this.props.experiments&&this.props.experiments.subgrowthBizOnboardingTourSkipRwl;return e&&t?o.createElement("p",null,o.createElement("button",{className:"ue-exit-link",onClick:this.handleExitClick},"Exit")):null},t.prototype.renderButton=function(){if(this.state.banner.showNext){var e=void 0;return e=this.state.banner.cta?this.state.banner.cta:this.state.banner.isLastStep?f._("Done"):f._("Next"),o.createElement("button",{className:"ue-next-button button-secondary",onClick:this.handleNextClick},e)}return null},t.prototype.renderSkip=function(){var e=this,t=this.props.experiments&&this.props.experiments.subgrowthBizOnboardingTourSkipRwl,n=this.state.effect&&t;if(this.state.banner.canSkip&&!n){var i=void 0;i=this.props.useHappyZone?f._("End tour"):f._("Skip");var a=this.handleSkipClick;return t&&(a=this.props.handleSkipClick?this.props.handleSkipClick:function(){return e.handleNextClick({source:"skip-link"})}),o.createElement("p",null,o.createElement("button",{className:"ue-skip-link",onClick:a},i))}return null},t.prototype.renderLoadingImg=function(){return this.state.banner.showLoading?o.createElement(d,{className:"ue-banner-loading-img",src:h.static_url("/static/images/dotload-vfl8mEFXg.gif"),srcHiRes:h.static_url("/static/images/dotload@2x-vfl66Z9jW.gif"),alt:f._("Animated loading icon.")}):null},t.prototype.renderEffect=function(){var e=null,t=null,i=null;if(this.state.effect&&this.state.requestedEffect&&this._canRequestEffect(this.state.requestedEffect)){var a=this.state.requestedEffect.rect;this.state.effect.effect===r.UEEffectType.Spotlight?e=o.createElement(l.UserEducationSpotlight,n.__assign({},this.state.effect.effectDetail,{rect:a,key:this.state.effect.containerName+"."+this.state.effect.elementName,experiments:this.props.experiments})):this.state.effect.effect===r.UEEffectType.Pulsar?t=o.createElement(c.UserEducationPulsar,n.__assign({},this.state.effect.effectDetail,{rect:a})):this.state.effect.effect===r.UEEffectType.ToolTip&&(i=o.createElement(u.UserEducationToolTip,n.__assign({},this.state.effect.effectDetail,{rect:a})))}return o.createElement("div",null,o.createElement(m,{transitionName:"ue-spotlight",transitionAppear:!1,transitionEnter:this.props.useReactCSSTransitionGroup,transitionLeave:this.props.useReactCSSTransitionGroup,transitionEnterTimeout:400,transitionLeaveTimeout:300},e),t,o.createElement(m,{transitionName:"ue-tooltip",transitionAppear:!0,transitionEnter:this.props.useReactCSSTransitionGroup,transitionLeave:this.props.useReactCSSTransitionGroup,transitionEnterTimeout:400,transitionLeaveTimeout:300},i))},t.prototype.render=function(){var e=a({"ue-banner-container":!0,hide:this.state.banner.hide,showNext:this.state.banner.showNext||!1,"confirmation-banner":this.state.banner.isLastStep||!1},"ue-step-"+this.state.stepName);return o.createElement("div",null,this.renderOverlay(),this.renderEffect(),o.createElement("div",{className:e},o.createElement(m,{transitionName:"ue-banner-center-contents",transitionAppear:!1,transitionEnter:this.props.useReactCSSTransitionGroup,transitionLeave:this.props.useReactCSSTransitionGroup,transitionEnterTimeout:700,transitionLeaveTimeout:400},o.createElement("div",{className:"ue-banner-center-contents",key:this.state.banner.title},o.createElement("h1",{className:"ue-banner-title"},this.state.banner.title),o.createElement("p",{className:"ue-banner-subtitle"},this.state.banner.subtitle),this.renderLoadingImg(),this.renderButton())),this.renderExit(),this.renderSkip()))},t})(o.Component);E.displayName="UserEducationBanner",E.defaultProps={hideOnload:!0,useReactCSSTransitionGroup:!0},t.UserEducationBanner=E}),define("modules/clean/user_education/react/user_education_pulsar",["require","exports","tslib","external/react","modules/clean/user_education/user_education_interface"],function(e,t,n,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.getOffsetX=function(){var e=o.UserEducationPulsarSize/2,t=0;switch(this.props.position){case o.UserEducationEffectPosition.Center:t=this.props.rect.width/2+e;break;case o.UserEducationEffectPosition.LeftCenter:t=0+e,1;break;case o.UserEducationEffectPosition.RightCenter:t=this.props.rect.width-e,-1;break;default:throw new Error("UserEducationSpotlight: unknown postion value "+this.props.position)}return this.props.rect.left+t+this.props.offsetX},t.prototype.getOffsetY=function(){return this.props.rect.top+this.props.rect.height/2+this.props.offsetY},t.prototype.render=function(){var e={top:this.getOffsetY(),left:this.getOffsetX()};return i.createElement("div",{className:"ue-pulse",style:e},i.createElement("svg",{className:"ue-pulse-svg"},i.createElement("circle",{cx:"50%",cy:"50%",r:"50%"})))},t})(i.Component);a.displayName="UserEducationPulsar",a.defaultProps={position:o.UserEducationEffectPosition.LeftCenter,offsetX:0,offsetY:0},t.UserEducationPulsar=a}),define("modules/clean/user_education/react/user_education_spotlight",["require","exports","tslib","external/react","external/classnames","modules/clean/user_education/user_education_interface","modules/clean/react/image","modules/clean/static_urls"],function(e,t,n,i,o,a,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.getSizeClass=function(){switch(this.props.size){case a.UserEducationSpotlightSize.Small:return"small";case a.UserEducationSpotlightSize.Medium:return"medium";case a.UserEducationSpotlightSize.Large:return"large";case a.UserEducationSpotlightSize.XLarge:return"x-large"}throw new Error("Unknown UserEducationSpotlightSize")},t.prototype.getOffsetX=function(){var e=0,t=0;switch(this.props.position){case a.UserEducationEffectPosition.Center:e=this.props.rect.width/2;break;case a.UserEducationEffectPosition.LeftCenter:e=0,t=1;break;case a.UserEducationEffectPosition.RightCenter:e=this.props.rect.width,t=-1;break;default:throw new Error("UserEducationSpotlight: unknown postion value "+this.props.position)}switch(this.props.size){case a.UserEducationSpotlightSize.Small:e+=40*t;break;case a.UserEducationSpotlightSize.Medium:e+=50*t;break;case a.UserEducationSpotlightSize.Large:e+=75*t;break;case a.UserEducationSpotlightSize.XLarge:e+=100*t;break;default:throw new Error("UserEducationSpotlight: unknown size value "+this.props.size)}return this.props.rect.left+e+this.props.offsetX},t.prototype.getOffsetY=function(){return this.props.rect.top+this.props.rect.height/2+this.props.offsetY},t.prototype.render=function(){var e={top:this.getOffsetY(),left:this.getOffsetX()};return i.createElement("div",{className:"ue-spotlight",style:e},i.createElement(r,{className:o("ue-spotlight-circle",this.getSizeClass()),src:s.static_url("/static/images/spotlight-vfllMyJQf.svg")}))},t})(i.Component);l.displayName="UserEducationSpotlight",l.defaultProps={size:a.UserEducationSpotlightSize.Medium,position:a.UserEducationEffectPosition.LeftCenter,offsetX:0,offsetY:0},t.UserEducationSpotlight=l}),define("modules/clean/user_education/react/user_education_tooltip",["require","exports","tslib","external/react","external/classnames","modules/core/browser","modules/core/i18n","modules/clean/user_education/user_education_interface","modules/clean/user_education/user_education_client"],function(e,t,n,i,o,a,r,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(t){var n=e.call(this,t)||this;return n.handleNextClick=n.handleNextClick.bind(n),n.handleSkipClick=n.handleSkipClick.bind(n),n}return n.__extends(t,e),t.prototype.getOffsetX=function(){var e=0;switch(this.props.position){case s.UserEducationEffectPosition.LeftCenter:e=0;break;case s.UserEducationEffectPosition.RightCenter:e=this.props.rect.width-398;break;default:throw new Error("UserEducationToolTip: unknown postion value "+this.props.position)}return this.props.rect.left+e+this.props.offsetX},t.prototype.getOffsetY=function(){return this.props.rect.top+this.props.rect.height+this.props.offsetY+10},t.prototype.handleNextClick=function(){l.UEClient.sendEvent(t.displayName,"nextClicked",{}),this.props.ctaUrl&&a.redirect(this.props.ctaUrl)},t.prototype.handleSkipClick=function(){l.UEClient.sendEvent("UserEducationBanner","exitOnboarding",{source:"clicked_x"})},t.prototype.renderCloseButton=function(){return i.createElement("button",{className:"ue-tooltip-close button-as-link",onClick:this.handleSkipClick,"aria-label":r._("Close")},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 11",width:"11",height:"11"},i.createElement("title",null,"dismiss-cross"),i.createElement("path",{d:"M4.185 5.5L.658 1.973 0 1.315 1.315 0l.658.658L5.5 4.185 9.027.658 9.685 0 11 1.315l-.658.658L6.815 5.5l3.527 3.527.658.658L9.685 11l-.658-.658L5.5 6.815l-3.527 3.527-.658.658L0 9.685l.658-.658L4.185 5.5z","fill-rule":"evenodd"})))},t.prototype.render=function(){var e=o({"ue-tooltip":!0,"pointer-top-right":this.props.pointerPosition===s.UserEducationToolTipPointerPosition.TopRight}),t={top:this.getOffsetY(),left:this.getOffsetX()};return i.createElement("div",{className:e,style:t},this.renderCloseButton(),i.createElement("div",{className:"ue-tooltip-content"},i.createElement("div",{className:"ue-tooltip-content-title"},this.props.title),i.createElement("div",{className:"ue-tooltip-content-subtitle u-mar-top-xs"},this.props.subtitle)),i.createElement("div",{className:"ue-tooltip-footer u-mar-top-m"},i.createElement("div",{className:"ue-tooltip-info u-mar-top-xs"},this.props.info),i.createElement("button",{className:"ue-next-button button-secondary",onClick:this.handleNextClick,key:this.props.title},this.props.ctaText||r._("Next"))))},t})(i.Component);c.displayName="UserEducationToolTip",c.defaultProps={position:s.UserEducationEffectPosition.LeftCenter,offsetX:0,offsetY:0},t.UserEducationToolTip=c}),define("modules/clean/user_education/user_education_controller",["require","exports","tslib","external/underscore","external/redux","modules/clean/user_education/user_education_interface","modules/clean/user_education/user_education_client","modules/core/browser","modules/clean/ajax"],function(e,t,n,i,o,a,r,s,l){"use strict";function c(){r.eventEmitter.on(a.UserEducationStateChannel,function(e){(console.warn||console.log)("MASTER-"+a.UserEducationStateChannel,e)}),r.eventEmitter.on(a.UserEducationEventChannel,function(e){console.log("MASTER-"+a.UserEducationEventChannel,e)})}function u(){return o.createStore(p)}function d(e,t,n,i){if(window.ensemble){var o=window.ensemble.viewer.getActiveUser().userId,a={module_name:e,event_name:t,status:n,extra:JSON.stringify(i)};a._subject_uid=String(o),l.SilentBackgroundRequest({url:"/log/onboarding",data:a})}}function p(e,o){if(!e)return v;if(m(o,t.AddModuleAction)){var a=o.payload.module;return n.__assign({},e,{modules:n.__assign({},e.modules,(d={},d[a.name]=a,d))})}if(m(o,t.ActivateAndAdvanceAction)){var r=o.payload,s=r.name,l=r.step;if(!e.modules[s])throw new Error("module("+s+") does not exists");if(l>=e.modules[s].steps.length)throw new Error("module("+s+") step("+l+") is out of bound");return n.__assign({},e,{activeModule:s,curStep:l})}if(m(o,t.ExitModuleEventAction))return n.__assign({},e,{activeModule:"",curStep:-1});if(m(o,t.UserEducationEventAction)){if(e.activeModule){var c=e.modules[e.activeModule].steps[e.curStep].condition;if(h(c,o.payload.event))return e.modules[e.activeModule].steps.length===e.curStep+1?n.__assign({},e,{activeModule:"",curStep:-1,finishedModules:e.finishedModules.concat([e.activeModule])}):n.__assign({},e,{curStep:e.curStep+1})}else for(var s in e.modules)if(i.indexOf(e.finishedModules,s)===-1){var u=e.modules[s],c=u.steps[0].condition;if(h(c,o.payload.event))return n.__assign({},e,{activeModule:s,curStep:1})}return e}return e;var d}function h(e,t){var n=e.eventName,o=e.eventData;return n===t.containerName+"."+t.name&&i.isMatch(t.data||{},o)}Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_KEY_FOR_LOCAL_STORAGE="db-user-eudcation-state";var f=function(e){return i.extend(function(t){return{type:e,payload:t}},{type:e})},m=function(e,t){return e.type===t.type};t.AddModuleAction=f("ADD_MODULE"),t.ActivateAndAdvanceAction=f("ACTIVATE_AND_ADVANCE"),t.ExitModuleEventAction=f("EXIT_MODULE"),t.UserEducationEventAction=f("UE_EVENT"),t.initializeReduxStore=u;var E=(function(){function n(e,n,i,o){void 0===o&&(o=null),n&&c(),this.store=u(),this.canContinueOnboarding=i;for(var s=0,l=e;s<l.length;s++){var d=l[s];this.store.dispatch(t.AddModuleAction({module:d}))}this.handleEvent=this.handleEvent.bind(this),r.eventEmitter.on(a.UserEducationEventChannel,this.handleEvent,this),this.loadStateDataLocally(e,o)&&r.eventEmitter.emit(a.UserEducationStateChannel,{state:a.UEEventType.Ready}),this.sendCurState()}return n.prototype.haveActiveOnboarding=function(){return""!==this.store.getState().activeModule},n.prototype.unsubscribe=function(){r.eventEmitter.removeListener(a.UserEducationEventChannel,this.handleEvent,this)},n.prototype._sendState=function(e){r.eventEmitter.emit(a.UserEducationStateChannel,e)},n.prototype.sendCurState=function(){this._sendState(this._getCurState())},n.getNameOfModuleRequiredForConstructor=function(){if(localStorage){var e=localStorage.getItem(t.STATE_KEY_FOR_LOCAL_STORAGE);if(e)return JSON.parse(e).activeModule}return null},n.prototype.loadStateDataLocally=function(e,n){if(localStorage&&this.canContinueOnboarding){var i=localStorage.getItem(t.STATE_KEY_FOR_LOCAL_STORAGE);if(i){var o=JSON.parse(i);if(null===n||o.activeModule===n){var a=this._getBrowserUriPath(),r=this._getUrlCondition(e,o.activeModule,o.curStep);if(void 0===r||0===a.indexOf(r))return this.store.dispatch(t.ActivateAndAdvanceAction({name:o.activeModule,step:o.curStep})),!0}}}return!1},n.prototype._getBrowserUriPath=function(){return s.get_uri().path},n.prototype.storeStateDataLocally=function(e,n){if(this.canContinueOnboarding){var i=JSON.stringify({activeModule:e,curStep:n});localStorage.setItem(t.STATE_KEY_FOR_LOCAL_STORAGE,i)}},n.prototype.removeStateDataLocally=function(){this.canContinueOnboarding&&null!==localStorage.getItem(t.STATE_KEY_FOR_LOCAL_STORAGE)&&localStorage.removeItem(t.STATE_KEY_FOR_LOCAL_STORAGE)},n.prototype.handleEvent=function(e){if("OnboardingPromptModal"===e.containerName&&"Shown"===e.name&&"uj_housewarming_v1"===e.data.name&&this.markHousewarmingStarted(),e.name===a.UEEventType.Subscribe)this.sendCurState();else{var n=this.store.getState();if(this.isExitModuleEvent(e)){if(this.store.dispatch(t.ExitModuleEventAction({})),this.markHomeOnboardingComplete(n.activeModule),n.activeModule){var o=this._getCurrentStepName(n),r=e&&!i.isEmpty(e.data)?e.data:null;d(n.activeModule,o,"skip",r)}this.removeStateDataLocally()}else this.store.dispatch(t.UserEducationEventAction({event:e}));var s=this.store.getState();if(!i.isEqual(n,s))if(this.sendCurState(),s.activeModule){var o=this._getCurrentStepName(s);if(o){var r=e&&i.isEmpty(e.data)?e.data:null;d(s.activeModule,o,"shown",r)}void 0!==s.modules[s.activeModule].steps[s.curStep].validUrl&&this.storeStateDataLocally(s.activeModule,s.curStep)}else i.isEqual(n.finishedModules,s.finishedModules)||(this.markHomeOnboardingComplete(n.activeModule),d(s.finishedModules[s.finishedModules.length-1],"finished",null,null),this.removeStateDataLocally())}},n.prototype.markHomeOnboardingComplete=function(t){"home_v1"===t?e(["modules/clean/react/home/home_access/onboarding/actions"],function(e){return e.markHomeOnboardingComplete()}):"uj_housewarming_v1"===t&&this.markHousewarmingComplete()},n.prototype.markHousewarmingStarted=function(){localStorage&&localStorage.setItem("uj-housewarming-v1-state","uj-housewarming-v1-state")},n.prototype.markHousewarmingComplete=function(){localStorage&&localStorage.removeItem("uj-housewarming-v1-state")},n.prototype.isExitModuleEvent=function(e){return"UserEducationBanner"===e.containerName&&"exitOnboarding"===e.name},n.prototype._getCurState=function(){var e=this.store.getState();return e.activeModule||0!==e.finishedModules.length?e.activeModule?{state:a.UEEventType.ShowStep,step:e.modules[e.activeModule].steps[e.curStep]}:{state:a.UEEventType.Finished}:{state:a.UEEventType.Ready}},n.prototype._getCurrentStepName=function(e){if(e.activeModule){return e.modules[e.activeModule].steps[e.curStep].name||""}return""},n.prototype._getUrlCondition=function(e,t,n){if(t)for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.name===t)return a.steps[n].validUrl}},n})();t.UserEducationController=E;var v={activeModule:"",curStep:-1,modules:{},finishedModules:[]}}),define("modules/clean/user_education/user_education_pagelet",["require","exports","jquery","external/react","external/react-dom","modules/clean/react/modal","modules/clean/user_education/user_education_loader","modules/clean/user_education/user_education_client","modules/clean/user_education/user_education_controller","modules/clean/user_education/react/user_education_banner","modules/clean/web_timing_logger"],function(e,t,n,i,o,a,r,s,l,c,u){"use strict";function d(t){function a(e,i){if(null!==e&&null!==i){var o=[],a=l.UserEducationController.getNameOfModuleRequiredForConstructor();null===a||i.includes(a)||i.push(a);for(var r=0,s=i;r<s.length;r++){var c=s[r];e[c]?o.push(e[c]):console.error("UserEducationModule was not found",c)}E&&console.log("Initializing User Education modules:",i),h=new l.UserEducationController(o,E,t.canContinueOnboarding,t.asyncLoadOverride),n(window).on("beforeunload",d),!h.haveActiveOnboarding()&&t.asyncLoadOverride&&p(t.asyncLoadOverride)}}function d(){s.UEClient.sendEvent("Page","Navigation")}function f(){e(["modules/clean/user_education/modules/all"],function(e){_=e.UEModules,a(_,g)})}var m=window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1;m&&window.performance.mark("UserEducation init start");var E=localStorage&&"ON"===localStorage.getItem("db-user-eudcation-debug");if(t.addBanner){var v=document.getElementById("user-education");v&&o.render(i.createElement(c.UserEducationBanner,{hideOnload:!0,experiments:t.experiments,useHappyZone:t.useHappyZone}),v)}"OFF"===t.asyncLoadOverride&&(t.asyncLoadOverride=null);var _=null,g=null;t.loadPostTTI?u.waitForTTI().then(f):f(),t.asyncLoadOverride&&r.UELoader.notifyModuleToLoad(t.asyncLoadOverride),r.UELoader.setLoadingCallback(function(e){g=[],null!==e&&g.push(e),a(_,g)}),m&&(window.performance.mark("UserEducation init end"),window.performance.measure("UserEducation init","UserEducation init start","UserEducation init end"))}function p(e){var t=i.createElement("div",null,i.createElement("img",{className:"welcome-maestro-modal__dropbox-illo u-mar-top-s",alt:"Dropbox logo",src:"/static/images/teams/onboarding/welcome_dropbox_illo-vflPEZsCl.png"}),i.createElement("h1",{className:"welcome-maestro-modal__header"},e),i.createElement("div",{className:"welcome-maestro-modal__subheader"},"This is modal is for testing onboarding module.")),n=i.createElement(a.Modal,{acceptButtonText:"Next",clickOutToClose:!1,width:540,style:"clean",className:"welcome-maestro-modal",showX:!1,onAccept:function(){s.UEClient.sendEvent("OnboardingPromptModal","ConfirmButtonClicked",{name:e})}},t);a.Modal.showInstance(n),s.UEClient.sendEvent("OnboardingPromptModal","Shown",{name:e})}Object.defineProperty(t,"__esModule",{value:!0});var h;t.initialize_module=d});
//# sourceMappingURL=pkg-user-education.min.js-vflu7ie5x.map