@model WebGrupo3S.Models.MovimientoCuentaXCobrar

<div class="box box-info" id="cuerpo-doc">
    <div class="box-header with-border">
        <h5 class="box-title">Detalle Documento</h5>
    </div>

    <div class="box-body">
        @Html.AntiForgeryToken()
        <form id="head-documento" class="form-guardar">
            <div class="row">
                <div class="col-sm-12">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Sucursal</label>
                            @Html.DropDownList("SUC", null, "Seleccionar", new { @class = "form-control seleccionar" })
                        </div>                        
                    </div>
                    <div class="col-sm-2">
                        <div class="form-group">
                            <label>Documento</label>
                            <select name="DOC" class="form-control seleccionar">
                                <option value="">Seleccionar</option>
                                <option value="1">FC</option>
                            </select>
                            @*@Html.DropDownList("DOC", null, "Seleccionar", new { @class = "form-control seleccionar" })*@
                        </div>
                       
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Monto Movimiento</label>
                            <input type="text" name="MontoMov" class="form-control" id="MontoMov" value="" />
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Credito/Debito</label>
                            <select name="Credito" id="Credito" class="form-control seleccionar">
                                <option value="">Seleccionar</option>
                                <option value="C">Credito</option>
                                <option value="D">Debito</option>
                            </select>
                        </div>
                    </div>                    
                </div>               
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Descripcion</label>
                            <input type="text" name="Descrip" id="Descrip" class="form-control" value="" />
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <label>&nbsp;</label>
                        <button type="button" id="btn_guardar_doc" class="btn btn-primary btn-as-block form-control"><i class="fa fa-check"></i> Guardar</button>
                    </div>
                    <div class="col-sm-2">
                        <label>&nbsp;</label>
                        <button type="button" id="btn_cancelar" class="btn btn-warning btn-as-block form-control"><i class="fa fa-circle"></i> Cancelar</button>
                    </div>
                </div>
            </div>
        </form>        
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {

        var msg_empty = "<h4>Alerta!</h4>" +
		      "<p>* La cuenta tiene un saldo pendiente</p>";

        $(".seleccionar").select2({
            language: {
                noResults: function () {
                    return "No hay resultado";
                }
            }
        });

        $("#btn_guardar_doc").click(function () {

            if ($("#cc_Saldo").val() == ""|| $("#cc_Saldo").val() !="0.00") {
                alertify.closeLogOnClick(true).error(msg_empty);
                return false;
            }

            var data = $(".form-guardar").serialize();

            $.ajax({
                url: '@Url.Action("saveCuenta","CuentaXCobrars")',
                type: 'POST',
                data: data,
                dataType: 'json',
            })
               .done(function (response) {
                   
                   console.log(response);

                   //console.log(response.cc_Saldo);
                   
               })
               .fail(function (response) {
                   console.log(response);
                   //$(".panel-body").append(response);
               });
        });

        $("#btn_cancelar").click(function () {
            if ($("#cuerpo-doc").length) {
                $("#cuerpo-doc").remove();
            }
        });

    });
</script>
